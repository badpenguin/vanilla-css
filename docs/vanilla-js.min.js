console.log("elements.js");var $=document.querySelectorAll.bind(document);var $_=document.querySelector.bind(document);function J$(a){return document.querySelectorAll(a)}function jId(a){return document.getElementById(a)}function jClass(a){return document.getElementsByClassName(a)}function elFindElement(b,a){return b.querySelectorAll(a)}function elAddClass(b,a){if(b.classList){return b.classList.add(a)}return b.className+=" "+a}function elRemoveClass(b,a){if(b.classList){return b.classList.remove(a)}return b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")}function elHasClass(b,a){if(b.classList){return b.classList.contains(a)}return new RegExp("(^| )"+a+"( |$)","gi").test(b.className)}function elToggleClass(d,b){if(d.classList){d.classList.toggle(b)}else{var c=d.className.split(" ");var a=c.indexOf(b);if(a>=0){c.splice(a,1)}else{c.push(b)}d.className=c.join(" ")}}function elHasAttribute(a,b){return a.hasAttribute(b)}function elTriggerEvent(a,c){var b=document.createEvent("Event");b.initEvent(c,true,true);a.dispatchEvent(b)}function elListenEvent(a,b,c){return a.addEventListener(b,c)}function elGetTarget(a){return a.target||a.srcElement}function JonPageLoad(a){return window.addEventListener("load",a)}function JonPageReady(a){if(document.readyState!="loading"){return a()}return document.addEventListener("DOMContentLoaded",a)}JonPageLoad(function(){console.info("PAGE LOAD")});JonPageReady(function(){console.info("PAGE READY")});(function(){var e;var a;var h=false;JonPageLoad(function(){d();document.addEventListener("vanilla-refresh",d)});function d(){console.log("visibleBoostrap");e=$(".animated-when-visible");console.log("visibileObjectList",e.length);b();if(e.length>0){if(!h){console.log("attaching scroll listner for visibile");document.addEventListener("scroll",b);h=true}}}function b(){a=f()+window.innerHeight;[].forEach.call(e,function(k,j){if(i(k)){if(!elHasClass(k,"animated")){console.log("visible!",k);elAddClass(k,"animated");window.requestAnimationFrame(function(){})}}else{if(elHasClass(k,"animated")){console.log("hiding",k);elRemoveClass(k,"animated")}}})}function f(){return window.scrollY||document.body.scrollTop||document.documentElement.scrollTop}function g(k){var j=k.getBoundingClientRect();console.log("windowY",window.scrollY);return j.top+window.scrollY}function c(k){var j=k.getBoundingClientRect().top;return(j>=0)&&(j<=window.innerHeight)}function i(k){var l=k.getBoundingClientRect();var j=document.documentElement;console.log("elTop: "+l.top+" elBot: "+l.bottom+" winnerH: "+window.innerHeight);var m=(window.innerHeight||j.clientHeight)*0.05;return(l.top>=0&&(l.top+m)<=(window.innerHeight||j.clientHeight))}})();